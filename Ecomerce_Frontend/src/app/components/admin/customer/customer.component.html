<script src="../admin-login/admin-login.component.spec.ts"></script>
<app-sidebar></app-sidebar>
<section class="home-section">
  <nav>
    <div class="sidebar-button" >
      <i class='bx bx-menu sidebarBtn'></i>
      <span class="dashboard">Products</span>
    </div>
    <app-search-customer (customerSearched)="onSearchCustomer($event)"  ></app-search-customer>
    <div class="profile-details">
      <img src="assets/images/img.png" alt="">
      <span class="admin_name">Admin</span>
      <i class='bx bx-chevron-down'></i>
    </div>
  </nav>

  <div class="page">
    <h2>All Customer</h2>
    <div class="button">
      <a (click)="openModal()">Create New Customer</a>
    </div>
    <div id="myModal" class="modal">

      <!-- Modal content -->
      <div class="modal-content">
        <span class="close" (click)="closeModal()">&times;</span>
        <form [formGroup]="createCustomerForm" (ngSubmit)="onSubmit()" >
          <div class="row justify-content-between">
            <div class="col">
              <label for="exampleInputUsername1" class="form-label" >First Name</label>
              <input type="text" class="form-control" id="exampleInputUsername1" aria-describedby="emailHelp" formControlName="first_name">
            </div>
            <div class="col">
              <label for="exampleInputPassword1" class="form-label">Last Name</label>
              <input type="text" class="form-control" id="exampleInputPassword1" formControlName="last_name">
            </div>
          </div>
          <div class="mt-3 mb-3">
            <label for="exampleInputTel1" class="form-label">Phone Number</label>
            <input type="text" class="form-control" id="exampleInputTel1" aria-describedby="emailHelp" formControlName="tel">
          </div>
          <div class="row justify-content-between mb-3">
            <div class="col">
              <label for="exampleInputHome1" class="form-label">Home No</label>
              <input type="text" class="form-control"
                     id="exampleInputHome1"
                     aria-describedby="emailHelp"
                     formControlName="homeNo">
            </div>
            <div class="col">
              <label for="exampleInputStreet1" class="form-label">Street</label>
              <input type="text"
                     class="form-control"
                     id="exampleInputStreet1"
                     formControlName="street">
            </div>
          </div>
          <div class="row justify-content-between">
            <div class="col">
              <label for="exampleInputCity1" class="form-label">City</label>
              <input type="text"
                     class="form-control"
                     id="exampleInputCity1"
                     aria-describedby="emailHelp"
                     formControlName="city">
            </div>
            <div class="col">
              <label for="exampleInpuDistrict1" class="form-label">District</label>
              <input type="text"
                     class="form-control"
                     id="exampleInpuDistrict1"
                     formControlName="district">
            </div>
          </div>


          <div class="mt-3 mb-3">
            <label >Gender</label>
          </div>

          <div class="row justify-content-between">

            <div class="form-check col-2 mx-3">
              <input class="form-check-input"
                     type="radio"
                     id="flexRadioDefault1"
                     value="Male"
                     formControlName="gender">
              <label class="form-check-label" for="flexRadioDefault1">
                Male
              </label>
            </div>
            <div class="form-check col-2">
              <input class="form-check-input"
                     type="radio"
                     id="flexRadioDefault2"  formControlName="gender"
                     value="Female" checked>
              <label class="form-check-label" for="flexRadioDefault2">
                Female
              </label>
            </div>
          </div>
          <div class="mt-3 mb-3">
            <label for="exampleInputDob" class="form-label">Date Of Birth</label>
            <input type="date" class="form-control" id="exampleInputDob" aria-describedby="emailHelp" formControlName="dob">
          </div>
          <button type="submit" class="btn btn-submit">Submit</button>
        </form>
      </div>

    </div>
    </div>
    <div class="container" style="overflow-x: auto">
      <table class="layout display responsive-table">
        <thead>
        <tr>
          <th class="id text-light">Id</th>
          <th class="name text-light">Full Name</th>
          <th class="description text-light">Address</th>
          <th class="text-light" style="width: 120px">Phone Number</th>
          <th class="text-light" style="width: 90px">Gender</th>
          <th class="text-light" style="width: 140px">Date Of Birth</th>
          <th class="text-light text-center" style="width: 120px">Action</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let cus of customers">
          <td class="organisationnumber">{{cus.id}}</td>
          <td>
            <span>{{cus.first_name}} {{cus.last_name}}</span>
          </td>
          <td class="organisationname">
            <div *ngFor="let address of cus.address">
              <span>&#x2666; {{address.homeNo}} {{address.street}} street, {{address.city}} city, {{address.district}} district</span>
              <br> <br>
            </div>
          </td>
          <td>{{cus.tel}}</td>
          <td>{{cus.gender}}</td>
          <td>{{cus.Dob}}</td>

          <td class="actions">
            <a routerLink="/admin/customer/edit/{{cus.id}}" class="edit-item" title="Edit">Edit</a>
            <a (click)="onDelete(cus.id)" class="remove-item" title="Remove">Remove</a>
          </td>
        </tr>
        </tbody>
      </table>
    </div>
</section>
